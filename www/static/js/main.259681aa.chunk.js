(this.webpackJsonppchatapp=this.webpackJsonppchatapp||[]).push([[0],{126:function(e,t,n){},127:function(e,t,n){},156:function(e,t,n){e.exports=n(190)},161:function(e,t,n){},174:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(11),r=n.n(o),l=(n(161),n(22)),s=n.n(l),c=n(36),d=n(12),u=n(13),p=n(15),m=n(14),h=n(68),f=n(8),v=n(28),g=n(245),b=(n(162),n(234)),y=n(63),E=n(55),x=(n(123),n(247)),j=n(235),O=(n(174),n(91)),k=n.n(O),U=n(134),w=n.n(U),C=n(248),I=i.a.forwardRef((function(e,t){return i.a.createElement(j.a,Object.assign({direction:"up",ref:t},e))})),L=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).notify=function(){return Object(E.b)("Chat clear successfully")},a.initializeData=function(e){a.setState({messages:e.messages})},a.handlechange=function(e){a.setState({message:e.target.value})},a.openImageDilog=function(e){a.setState({openDialog:!0,currentImage:e})},a.handleClose=function(){a.setState({openDialog:!1})},a.scrollToBottom=function(){document.getElementById("myDiv").scrollIntoView()},a.state={messages:[],message:"",open:!1,files:[],chatQuestion:[{question:"How are you?"},{question:"Are you intrested to chat ?"},{question:"Send me your number"},{question:"What you do?"},{question:"Lets meet"},{question:"Send me some pics "}]},a}return Object(u.a)(n,[{key:"handleCloseDropZone",value:function(){this.setState({open:!1})}},{key:"handleSave",value:function(e){console.log(e),this.setState({files:e,open:!1}),this.props.sendImage(e)}},{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"componentWillMount",value:function(){this.initializeData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.initializeData(e)}},{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e,t,n,a,o,r,l,s,c,d,u=this;return i.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100vh",width:"100%"}},i.a.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"calc(100vh - 137px)",flexDirection:"column",justifyContent:"sapce-between",overflowY:"scroll",overflowX:"hidden"}},i.a.createElement("div",{style:{height:"7vh",width:"100%",position:"fixed",top:"5px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0px 5px"}},i.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),u.props.history.goBack()}},"Back"),i.a.createElement(C.a,{src:(null===(e=this.props)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.imageURL)?null===(n=this.props)||void 0===n||null===(a=n.user)||void 0===a?void 0:a.imageURL:this.props.user.photoURL,alt:"Cindy Baker"}),i.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(e){var t,n;e.preventDefault(),""===(null===u||void 0===u||null===(t=u.props)||void 0===t||null===(n=t.singleChat)||void 0===n?void 0:n.blockedBy)?u.props.blockUser(u.props.user.uid,u.props.match.params.id):u.props.unBlockUser(u.props.user.uid,u.props.match.params.id),u.props.history.goBack()}},""===(null===this||void 0===this||null===(o=this.props)||void 0===o||null===(r=o.singleChat)||void 0===r?void 0:r.blockedBy)?"Block":"Unblock")),this.state.messages.map((function(e){return i.a.createElement("div",{style:{display:"flex",alignItems:"center",height:"auto",width:"100%",marginTop:"5px"}},u.props.user.uid&&u.props.user.uid===e.userId?i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},"image/jpeg"===e.type?i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{onClick:function(t){t.preventDefault(),u.openImageDilog(e.messageMediaURL)},src:e.messageMediaURL,alt:"",style:{height:"100px",width:"100px",marginLeft:"15px",borderRadius:"5px",objectFit:"cover"}})):i.a.createElement("div",{id:"rightdiv",style:{display:"flex",alignItems:"center",height:"auto",marginRight:"23px",maxWidth:"80%",margin:"5px",backgroundColor:"#d8efd5",padding:"5px 9px",borderRadius:"10px 0px 10px 10px"}},i.a.createElement("br",null),i.a.createElement("div",{style:{marginRight:"5px",float:"left"}},i.a.createElement("span",{style:{fontSize:"1em"}},e.title)))):i.a.createElement("div",{style:{display:"flex",width:"100%",marginRight:"15px",justifyContent:"flex-end"}},"image/jpeg"===e.type?i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{onClick:function(t){t.preventDefault(),u.openImageDilog(e.messageMediaURL)},src:e.messageMediaURL,alt:"",style:{height:"100px",width:"100px",marginRight:"15px",borderRadius:"5px",objectFit:"cover"}})):i.a.createElement("div",{id:"left",style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},i.a.createElement("br",null),i.a.createElement("div",{style:{display:"flex",alignItems:"center",height:"auto",maxWidth:"80%",marginLeft:"23px",marginTop:"5px",backgroundColor:"white",padding:"5px 9px",borderRadius:"0px 10px 10px 10px"}},i.a.createElement("span",{style:{fontSize:"1em"}},e.title)))))})),i.a.createElement("div",{id:"myDiv",ref:function(e){u.messagesEnd=e}})),void 0===(null===this||void 0===this||null===(l=this.props)||void 0===l?void 0:l.singleChat)||""===(null===this||void 0===this||null===(s=this.props)||void 0===s||null===(c=s.singleChat)||void 0===c?void 0:c.blockedBy)?i.a.createElement("div",null,i.a.createElement("div",{style:{height:"44px",width:"100%",position:"fixed",left:"0px",bottom:"70px",borderTop:"1px solid grey",borderBottom:"1px solid grey",display:"flex",justifyContent:"flex-start",alignItems:"center",overflow:"scroll"}},i.a.createElement("div",{style:{display:"-webkit-box",marginLeft:"5px"}},this.state.chatQuestion.map((function(e){return i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#9fb890",padding:"5px 9px",borderRadius:"4px",margin:"2px"}},i.a.createElement("span",{style:{color:"white",textTransform:"uppercase"},onClick:function(t){t.preventDefault(),u.props.addMessage(e.question,u.props.user.uid,u.props.match.params.id)}},e.question))})),i.a.createElement("div",{style:{width:"5px",height:"auto"}}))),i.a.createElement("div",{style:{width:"100%",height:"80px",position:"fixed",left:"0px",bottom:"0px",display:"flex",justifyContent:"space-around",alignItems:"center"}},i.a.createElement(k.a,{style:{color:"white"},onClick:function(e){e.preventDefault(),u.setState({open:!0})}}),i.a.createElement("div",{style:{width:"72%"}},i.a.createElement(g.a,(d={id:"standard-textarea",placeholder:"Type here...",multiline:!0,rowsMax:"3",fullWidth:!0,margin:"normal",style:{marginTop:"10px",underline:"none",color:"white"},onChange:this.handlechange},Object(v.a)(d,"id","outlined-basic"),Object(v.a)(d,"value",this.state.message),Object(v.a)(d,"disableUnderline",!1),d))),i.a.createElement(w.a,{className:"sendButton",style:{color:"white"},onClick:function(e){e.preventDefault(),u.props.addMessage(u.state.message,u.props.user.uid,u.props.match.params.id),u.setState({message:"",openDropzone:!1})}}))):i.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"20px",width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column"}},i.a.createElement("span",null,"You cant reply to this chats")),i.a.createElement(E.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement(E.a,null),i.a.createElement(y.a,{open:this.state.open,onSave:this.handleSave.bind(this),acceptedFiles:["image/jpeg","image/png","image/bmp"],showPreviews:!0,maxFileSize:5e6,onClose:this.handleCloseDropZone.bind(this)}),i.a.createElement(x.a,{open:this.state.openDialog,TransitionComponent:I,onClose:this.handleClose},i.a.createElement("div",{style:{height:"70vh",width:"100%"}},i.a.createElement("img",{src:this.state.currentImage,style:{height:"100%",width:"100%",objectFit:"cover"},alt:""}))))}}]),n}(i.a.Component),R=Object(f.f)(L),D=n(20),S=n.n(D),N=(n(185),S.a.initializeApp({apiKey:"AIzaSyB528v5va-BU5trRv91XhGE5V6FDr6Wl4Q",authDomain:"pchatapp-15cab.firebaseapp.com",databaseURL:"https://pchatapp-15cab.firebaseio.com",projectId:"pchatapp-15cab",storageBucket:"pchatapp-15cab.appspot.com",messagingSenderId:"413748973440",appId:"1:413748973440:web:b85b36d398e21bf13c3b65"}));S.a.firestore().settings({}),N.firestore().enablePersistence().then((function(){console.log("Persistence working!")})).catch((function(e){"failed-precondition"===e.code?console.log("Multiple tabs open. So, no offline persistence for you."):"unimplemented"===e.code&&console.log("Offline persistence not supported in this browser.")}));var M=N.firestore(),z=S.a.auth(),P=S.a.storage().ref().child("images"),F=new S.a.auth.GoogleAuthProvider,B=M.collection("users"),A=(M.collection("chats"),""),q=function(e){var t,n;e&&(console.log("user data",e),B.doc(e.uid).update({lat:(null===(t=localStorage)||void 0===t?void 0:t.lat)||24.1549,lng:(null===(n=localStorage)||void 0===n?void 0:n.lng)||83.7996}))},T=function(e){var t,n;e&&(console.log("user data",e),B.doc(e.uid).set({onBoardingDone:!1,userId:e.uid,displayName:"",phoneNumber:(null===e||void 0===e?void 0:e.phoneNumber)||"",email:(null===e||void 0===e?void 0:e.email)||"",gender:"",hobbies:"",imageURL:"",friendList:[],friendRequests:[],blockList:[],photoURL:(null===e||void 0===e?void 0:e.photoURL)||"",createdAt:S.a.firestore.FieldValue.serverTimestamp(),lat:(null===(t=localStorage)||void 0===t?void 0:t.lat)||24.1549,lng:(null===(n=localStorage)||void 0===n?void 0:n.lng)||83.7996}).then((function(){B.doc(e.uid).get().then((function(e){console.log(e.data())}))})))},W=function(){z.signOut().then((function(){console.log("Signed Out"),localStorage.clear()}),(function(e){console.error("Sign Out Error",e)}))},_=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).clearChat=function(e){M.collection("chats").doc(e).update({lastArchiveAt:S.a.firestore.FieldValue.serverTimestamp()})},a.sendImage=function(e){var t=e[0],n=e[0].type,i=P.child((new Date).toString());i.put(t).then((function(){i.getDownloadURL().then((function(e){var t=e;a.setState({imageMessageURL:t,messageText:"",localImage:!1},(function(){a.sendMessage(n,t)})),console.log(t)}))}))},a.sendMessage=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var i,o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(a.props.match.params.id,"_").concat(a.props.user.uid),o="".concat(a.props.user.uid,"_").concat(a.props.match.params.id),e.next=4,a.state.allChats.find((function(e){return e.chatId===i||e.chatId===o}));case 4:(r=e.sent)?(M.collection("chats").doc(r.chatId).get().then((function(e){e.exists&&e.ref.collection("messages").add({title:"",type:t,messageMediaURL:n,createdAt:S.a.firestore.FieldValue.serverTimestamp(),createdBy:a.props.user.uid,userId:a.props.user.uid,photoURL:a.props.user.photoURL}).then((function(){console.log("chat send",e.data())}))})),a.setState({value:""})):M.collection("chats").doc("".concat(a.props.match.params.id,"_").concat(a.props.user.uid)).set({userId:a.props.user.uid,otherpersonId:a.props.match.params.id,chatId:"".concat(a.props.match.params.id,"_").concat(a.props.user.uid),blockedBy:"",lastArchiveAt:S.a.firestore.FieldValue.serverTimestamp()}).then((function(e){M.collection("chats").doc("".concat(a.props.match.params.id,"_").concat(a.props.user.uid)).collection("messages").add({title:"",type:t,messageMediaURL:n,createdAt:S.a.firestore.FieldValue.serverTimestamp(),createdBy:a.props.user.uid,userId:a.props.user.uid,photoURL:a.props.user.photoURL})}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.blockUser=function(e,t){var n="".concat(a.props.match.params.id,"_").concat(a.props.user.uid),i="".concat(a.props.user.uid,"_").concat(a.props.match.params.id),o=a.state.allChats.find((function(e){return e.chatId===n||e.chatId===i}));o&&M.collection("chats").doc(o.id).update({blockedBy:a.props.user.uid})},a.unBlockUser=function(e,t){var n="".concat(a.props.match.params.id,"_").concat(a.props.user.uid),i="".concat(a.props.user.uid,"_").concat(a.props.match.params.id),o=a.state.allChats.find((function(e){return e.chatId===n||e.chatId===i}));o&&M.collection("chats").doc(o.id).update({blockedBy:""})},a.addMessage=function(){var e=Object(c.a)(s.a.mark((function e(t,n,i){var o,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat(a.props.match.params.id,"_").concat(a.props.user.uid),r="".concat(a.props.user.uid,"_").concat(a.props.match.params.id),e.next=4,a.state.allChats.find((function(e){return e.chatId===o||e.chatId===r}));case 4:(l=e.sent)?M.collection("chats").doc(l.chatId).collection("messages").add({title:t,type:"",messageMediaURL:"",createdAt:S.a.firestore.FieldValue.serverTimestamp(),createdBy:a.props.user.uid,userId:a.props.user.uid,photoURL:a.props.user.photoURL}).then((function(){return console.log("success")})).catch((function(e){return console.log(e)})):M.collection("chats").doc("".concat(i,"_").concat(n)).set({userId:a.props.user.uid,otherpersonId:a.props.match.params.id,chatId:"".concat(i,"_").concat(n),blockedBy:"",lastArchiveAt:S.a.firestore.FieldValue.serverTimestamp()}).then((function(e){M.collection("chats").doc("".concat(i,"_").concat(n)).collection("messages").add({title:t,type:"",messageMediaURL:"",createdAt:S.a.firestore.FieldValue.serverTimestamp(),createdBy:a.props.user.uid,userId:a.props.user.uid,photoURL:a.props.user.photoURL})}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.state={chats:[],realTimeAllChats:[],messages:[]},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t="".concat(this.props.match.params.id,"_").concat(this.props.user.uid),n="".concat(this.props.user.uid,"_").concat(this.props.match.params.id),a=[];M.collection("chats").get().then((function(t){t.forEach((function(e){if(e.exists){var t=e.data();t.id=e.id,a.push(t)}})),e.setState({allChats:a})})).then((function(){var i=a.find((function(e){return e.chatId===t||e.chatId===n}));console.log("this is chat id",i),e.setState({singleChatId:i}),i&&M.collection("chats").doc(i.id).collection("messages").orderBy("createdAt","asc").startAt(null===i||void 0===i?void 0:i.lastArchiveAt).onSnapshot((function(t){console.log("size message ka",t.size);var n=[];t.forEach((function(e){if(e.exists){var t=e.data();t.id=e.id,n.push(t)}})),e.setState({messages:n})}))}))}},{key:"render",value:function(){return i.a.createElement(R,{messages:this.state.messages&&this.state.messages,singleChat:this.state.singleChatId&&this.state.singleChatId,addMessage:this.addMessage,user:this.props.user,blockUser:this.blockUser,unBlockUser:this.unBlockUser,sendImage:this.sendImage,clearChat:this.clearChat})}}]),n}(i.a.Component),V=Object(f.f)(_),H=n(236),Y=n(193),G=n(241),K=n(240),J=n(21),Q=n(237),X=n(238),Z=n(239),$=n(135),ee=n.n($),te=n(136),ne=n.n(te),ae=n(137),ie=n.n(ae),oe=(n(186),Object(Q.a)({root:Object(v.a)({position:"fixed",width:"100%",bottom:"0px",background:"rgb(34,193,195)"},"background","radial-gradient(circle, rgba(34,193,195,1) 34%, rgba(253,187,45,1) 93%)")})),re=Object(f.f)((function(e){var t=oe(),n=i.a.useState(0),o=Object(J.a)(n,2),r=o[0],l=o[1];return Object(a.useEffect)((function(){return l(e.selectedValue)}),[r]),i.a.createElement(X.a,{value:r,showLabels:!0,className:"".concat(t.root," bottomNav ")},i.a.createElement(Z.a,{onClick:function(t){t.preventDefault(),e.history.push("/profile/id")},label:"Home",icon:i.a.createElement(ee.a,null)}),i.a.createElement(Z.a,{onClick:function(t){t.preventDefault(),e.history.push("/userList/id")},label:"Chats",icon:i.a.createElement(ne.a,null)}),i.a.createElement(Z.a,{onClick:function(t){t.preventDefault(),e.history.push("/nearBy/id")},label:"Nearby",icon:i.a.createElement(ie.a,null)}))})),le=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).notify=function(){return Object(E.b)("Someone is trying to screenshot!")},e}return Object(u.a)(n,[{key:"componentWillMount",value:function(){document.addEventListener("contextmenu",(function(e){e.preventDefault()})),document.onkeydown=function(e){return 123!=e.keyCode&&((!e.ctrlKey||!e.shiftKey||e.keyCode!="I".charCodeAt(0))&&((!e.ctrlKey||!e.shiftKey||e.keyCode!="C".charCodeAt(0))&&((!e.ctrlKey||!e.shiftKey||e.keyCode!="J".charCodeAt(0))&&((!e.ctrlKey||e.keyCode!="U".charCodeAt(0))&&void 0))))},document.addEventListener("keydown",(function(e){var t=e.keyCode?e.keyCode:e.which;if(44==t||18==t)return this.notify}))}},{key:"render",value:function(){var e=this.props,t=e.bottomNavigation,n=e.children,a=e.selectedValue,o=i.a.createElement(E.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r=t&&i.a.createElement(re,{selectedValue:a});return i.a.createElement(i.a.Fragment,null,n,r,o)}}]),n}(i.a.Component),se=n(242),ce=(n(126),function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return i.a.createElement("svg",{version:1,xmlns:"http://www.w3.org/2000/svg",width:"35.000000pt",height:"35.000000pt",viewBox:"0 0 843.000000 843.000000",preserveAspectRatio:"xMidYMid meet"},i.a.createElement("g",{transform:"translate(0.000000,843.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},i.a.createElement("path",{d:"M4005 8250 c-1003 -46 -1883 -439 -2611 -1165 -819 -818 -1217 -1849\n-1163 -3023 35 -773 260 -1449 686 -2060 230 -330 601 -713 933 -963 733 -551\n1604 -812 2564 -769 1006 46 1852 414 2585 1125 763 740 1163 1622 1210 2667\n42 918 -194 1759 -692 2463 -237 336 -583 694 -907 940 -558 423 -1177 674\n-1875 760 -110 14 -495 37 -550 33 -11 -1 -92 -4 -180 -8z m560 -60 c1055 -91\n1958 -561 2670 -1390 443 -516 728 -1104 854 -1760 98 -507 94 -1094 -10\n-1611 -175 -873 -670 -1661 -1424 -2268 -611 -492 -1305 -765 -2110 -832 -158\n-13 -648 -6 -785 11 -922 114 -1664 474 -2316 1124 -181 181 -273 286 -410\n470 -440 587 -688 1257 -745 2016 -24 315 0 759 57 1070 59 324 188 709 335\n1001 265 529 698 1040 1204 1421 479 361 1041 603 1630 702 130 21 193 29 405\n49 85 9 536 6 645 -3z"}),i.a.createElement("path",{d:"M2769 5934 c-11 -13 -9 -23 11 -61 132 -250 347 -347 589 -267 104\n34 186 82 186 109 0 19 -6 20 -155 17 -131 -3 -167 0 -234 17 -102 27 -203 76\n-298 145 -42 31 -78 56 -81 56 -2 0 -10 -7 -18 -16z"}),i.a.createElement("path",{d:"M3046 5424 c-21 -21 -21 -25 12 -66 55 -72 159 -135 264 -158 l56\n-13 -43 -52 c-70 -87 -104 -141 -156 -250 -148 -309 -155 -721 -19 -1048 64\n-155 214 -347 352 -454 77 -59 199 -119 295 -144 58 -16 110 -22 208 -23 160\n-1 247 18 381 84 52 25 94 45 94 45 0 -1 -15 -39 -34 -85 -35 -88 -36 -113 -4\n-108 14 2 30 28 57 94 111 269 337 618 526 810 134 137 190 159 350 142 46 -5\n47 28 1 47 -105 44 -241 -3 -365 -125 l-70 -69 6 67 c7 82 -14 189 -59 304\n-96 251 -418 547 -747 689 -167 72 -368 120 -576 139 -286 26 -352 47 -440\n138 -54 56 -65 60 -89 36z m564 -254 c111 -14 261 -45 346 -71 l68 -21 -70\n-22 c-117 -38 -192 -83 -285 -176 -146 -145 -206 -301 -196 -510 6 -122 29\n-206 84 -300 46 -79 169 -203 245 -248 218 -128 504 -128 721 0 81 47 199 163\n245 241 37 62 81 179 82 217 0 14 4 31 9 39 14 22 36 -86 35 -174 -2 -115 -27\n-197 -78 -264 -54 -70 -160 -234 -210 -324 -64 -113 -210 -212 -384 -259 -108\n-28 -288 -28 -395 0 -332 90 -594 395 -679 792 -29 133 -29 376 -1 510 43 200\n130 378 251 510 72 79 67 77 212 60z m638 -200 c43 -22 87 -48 99 -58 22 -16\n19 -17 -95 -17 -111 0 -120 -2 -185 -32 l-67 -32 29 -46 c60 -95 61 -204 1\n-299 -30 -46 -109 -106 -141 -106 -10 0 -24 -3 -33 -6 -35 -13 62 -144 151\n-206 144 -99 375 -96 515 7 l47 35 -40 38 c-33 31 -42 46 -46 82 -5 51 18 97\n61 125 29 19 104 22 136 5 22 -12 22 -12 18 64 -2 42 -2 76 -1 76 1 0 22 -29\n47 -64 45 -62 46 -65 46 -141 0 -164 -54 -290 -180 -416 -99 -99 -185 -147\n-312 -173 -97 -20 -159 -20 -255 0 -236 49 -418 220 -478 449 -17 67 -20 210\n-5 270 6 22 12 66 15 99 10 136 71 227 176 261 30 10 90 35 134 56 81 40 179\n67 248 68 27 1 62 -11 115 -39z"}),i.a.createElement("path",{d:"M1644 5372 c-6 -4 -15 -27 -19 -52 -36 -220 -166 -410 -347 -509 -43\n-24 -81 -47 -84 -53 -4 -5 1 -17 10 -26 13 -14 26 -14 99 -5 212 29 327 115\n378 284 18 59 20 89 17 203 -2 94 -7 138 -17 149 -15 19 -21 20 -37 9z"}),i.a.createElement("path",{d:"M1902 4948 c-7 -7 -12 -40 -12 -76 0 -197 -85 -330 -431 -672 -207\n-206 -246 -257 -309 -409 -49 -119 -64 -196 -64 -326 -1 -111 2 -127 32 -210\n64 -175 147 -303 280 -432 41 -40 68 -73 60 -73 -8 0 -42 -14 -75 -30 -63 -31\n-158 -121 -150 -143 9 -27 39 -17 82 28 92 95 242 132 402 101 106 -21 251\n-76 421 -162 107 -53 129 -61 141 -50 19 20 9 31 -71 75 l-70 39 38 12 c181\n57 391 276 475 495 59 151 79 269 79 460 0 101 -6 204 -14 255 -67 396 -300\n710 -598 805 -42 13 -99 27 -127 31 -41 5 -51 10 -47 23 27 87 34 217 16 252\n-12 21 -40 25 -58 7z m216 -377 c70 -25 183 -89 196 -110 3 -4 -43 -8 -102 -8\n-215 -1 -372 -69 -514 -221 -110 -119 -160 -257 -160 -437 0 -200 51 -326 191\n-465 94 -93 185 -147 295 -175 194 -49 425 -12 567 90 27 19 49 33 49 31 0 -3\n-13 -44 -30 -92 -88 -259 -280 -459 -498 -520 l-60 -17 -78 33 c-126 53 -232\n81 -332 87 l-92 6 -68 56 c-126 106 -252 288 -295 426 -40 128 -30 320 24 471\n58 160 103 221 318 434 194 192 307 320 358 408 l26 45 62 -6 c34 -3 98 -19\n143 -36z m101 -232 c35 -5 89 -19 120 -30 67 -23 176 -95 189 -124 l10 -21\n-57 20 c-105 37 -268 23 -349 -30 l-22 -15 24 -32 c57 -76 58 -176 3 -249 -37\n-49 -106 -88 -154 -88 -28 0 -33 -4 -33 -23 0 -77 122 -215 236 -269 58 -27\n78 -31 153 -32 113 0 121 5 76 55 -28 32 -35 47 -35 82 0 118 132 187 228 118\n39 -28 67 -97 58 -146 -10 -50 -167 -207 -251 -252 -173 -90 -359 -93 -531 -8\n-114 56 -213 176 -260 315 -29 86 -27 292 4 383 84 241 334 388 591 346z"}),i.a.createElement("path",{d:"M3323 2565 c-116 -31 -215 -101 -297 -208 -62 -81 -162 -278 -153\n-302 10 -25 46 -18 58 12 29 77 98 200 145 259 108 136 221 194 374 194 110 0\n204 -26 338 -92 93 -45 105 -49 119 -35 20 20 13 30 -45 62 -186 105 -397 148\n-539 110z"})))}}]),n}(i.a.Component)),de=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).initializeData=function(e){a.setState({messages:e.messages})},a.handlechange=function(e){a.setState({message:e.target.value})},a.state={messages:[],message:""},a}return Object(u.a)(n,[{key:"componentWillMount",value:function(){this.initializeData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.initializeData(e)}},{key:"render",value:function(){var e,t=this;return(null===this||void 0===this||null===(e=this.props)||void 0===e?void 0:e.isLoadingUser)?"Loading...":i.a.createElement(le,{bottomNavigation:!0,selectedValue:1},i.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"30px"}},i.a.createElement("h3",null,"Friend List"),i.a.createElement("div",{style:{position:"fixed",top:"15px",right:"15px"}},i.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),W()}},"Logout"))),i.a.createElement("div",{style:{display:"flex",height:"calc(100vh - 140px)",overflowY:"scroll",flexDirection:"column"}},this.props.myData.friendList.length>0?this.props.myData.friendList.map((function(e){return i.a.createElement(H.a,{onClick:function(n){n.preventDefault(),t.props.history.push("/chatScreen/".concat(e.userId))}},i.a.createElement(Y.a,null,i.a.createElement(K.a,null,i.a.createElement(C.a,{alt:"Remy Sharp",src:e.imageURL?e.imageURL:""})),i.a.createElement(G.a,{primary:e.displayName?e.displayName:"No name available"})),i.a.createElement(se.a,null))})):i.a.createElement("div",{style:{display:"flex",height:"100%",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center"}},i.a.createElement(ce,{style:{height:"30px",width:"30px",objectFit:"cover"}}),i.a.createElement("span",{style:{display:"flex",alignItems:"center",fontSize:".8rem",margin:"5px",fontWeight:"bolder",justifyContent:"center"}},"Dont be sad ,search friends near by"))))}}]),n}(i.a.Component),ue=Object(f.f)(de),pe=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={allUsers:[],isLoadingUser:!0},a}return Object(u.a)(n,[{key:"componentWillMount",value:function(){var e=this;B.onSnapshot((function(t){console.log("onsnapShot",t);var n=[];t.forEach(function(){var t=Object(c.a)(s.a.mark((function t(a){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.exists&&((i=a.data()).id=a.id,e.props.user.uid===a.data().userId||n.push(i));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.setState({allUsers:n,isLoadingUser:!1})}))}},{key:"render",value:function(){return i.a.createElement(ue,{users:this.state.allUsers&&this.state.allUsers,user:this.props.user,isLoadingUser:this.state.isLoadingUser})}}]),n}(i.a.Component),me=(Object(f.f)(pe),function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).initializeData=function(e){a.setState({messages:e.messages})},a.handlechange=function(e){a.setState({message:e.target.value})},a.state={messages:[],message:""},a}return Object(u.a)(n,[{key:"componentWillMount",value:function(){this.initializeData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.initializeData(e)}},{key:"render",value:function(){var e,t,n,a,o,r=this;return(null===this||void 0===this||null===(e=this.props)||void 0===e?void 0:e.isLoadingDistance)?"Loading...":i.a.createElement(le,{bottomNavigation:!0,selectedValue:2},i.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"30px"}},i.a.createElement("h3",null,"Near By"),i.a.createElement("div",{style:{position:"fixed",top:"15px",right:"15px"}},i.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),W()}},"Logout"))),i.a.createElement("div",{style:{display:"flex",height:"calc(100vh - 140px)",overflowY:"scroll",flexDirection:"column"}},(null===this||void 0===this||null===(t=this.props)||void 0===t||null===(n=t.allUserDistanceWise)||void 0===n?void 0:n.length)>0?null===this||void 0===this||null===(a=this.props)||void 0===a||null===(o=a.allUserDistanceWise)||void 0===o?void 0:o.map((function(e){return i.a.createElement(H.a,{className:(null===e||void 0===e?void 0:e.displayName)?null:"nearBy",onClick:function(t){t.preventDefault(),r.props.history.push("/singelOtherUserProfile/".concat(e.userId))}},i.a.createElement(Y.a,null,i.a.createElement(K.a,null,i.a.createElement(C.a,{alt:"Remy Sharp",src:e.imageURL?e.imageURL:e.photoURL&&e.photoURL})),i.a.createElement(G.a,{primary:e.displayName?e.displayName:e.email?e.email:e.phoneNumber?e.phoneNumber:"No name available",secondary:e.distance?"".concat(e.distance," : Km Away from You"):"Mars : Km Away from You"})),i.a.createElement(se.a,null))})):"Awwwwww no user found yet"))}}]),n}(i.a.Component)),he=Object(f.f)(me),fe=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,e)).calculateDistance=function(e){var t=[],n=window.myData.lat,i=window.myData.lng;e.map((function(e){var o=e.lat,r=e.lng,l=a.calcCrow(n,i,o,r).toFixed(1);console.log(l);var s=e;s.distance=l,t.push(s)})),a.setState({allUserDistanceWise:t,isLoadingDistance:!1})},a.calcCrow=function(e,t,n,i){var o=a.toRad(n-e),r=a.toRad(i-t),l=(e=a.toRad(e),n=a.toRad(n),Math.sin(o/2)*Math.sin(o/2)+Math.sin(r/2)*Math.sin(r/2)*Math.cos(e)*Math.cos(n));return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},a.toRad=function(e){return e*Math.PI/180},a.state={allUsers:[],isLoadingUser:!0,isLoadingDistance:!1};return a}return Object(u.a)(n,[{key:"componentWillMount",value:function(){var e=this;B.onSnapshot((function(t){console.log("onsnapShot",t);var n=[];t.forEach(function(){var t=Object(c.a)(s.a.mark((function t(a){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.exists&&((i=a.data()).id=a.id,e.props.user.uid===a.data().userId?window.myData=a.data():n.push(i));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.setState({allUsers:n,isLoadingUser:!1},(function(){e.calculateDistance(n)}))}))}},{key:"render",value:function(){return i.a.createElement(he,{users:this.state.allUsers&&this.state.allUsers,user:this.props.user,isLoadingUser:this.state.isLoadingUser,isLoadingDistance:this.state.isLoadingDistance,allUserDistanceWise:this.state.allUserDistanceWise})}}]),n}(i.a.Component),ve=Object(f.f)(fe),ge=n(138),be=n(93),ye=n(27),Ee=n(46),xe=n(192),je=n(228),Oe=(n(127),function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return i.a.createElement("svg",{version:1,xmlns:"http://www.w3.org/2000/svg",width:"100.000000pt",height:"100.000000pt",viewBox:"0 0 315.000000 315.000000",preserveAspectRatio:"xMidYMid meet"},i.a.createElement("g",{transform:"translate(0.000000,315.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},i.a.createElement("path",{d:"M1540 3130 c-76 -8 -146 -26 -290 -75 -157 -53 -264 -56 -384 -9 -16\n6 -18 3 -11 -27 4 -19 18 -58 31 -88 28 -62 26 -74 -5 -35 -15 19 -21 22 -21\n10 0 -24 -19 -19 -24 7 -3 12 -7 31 -9 42 -4 17 -7 15 -18 -12 -16 -39 -29\n-41 -76 -11 l-35 21 7 -24 c4 -13 18 -45 31 -70 16 -33 23 -65 25 -120 2 -67\n-1 -80 -30 -129 -36 -63 -46 -97 -61 -195 -21 -148 -4 -313 45 -432 14 -35 25\n-78 25 -96 0 -56 41 -200 66 -229 12 -16 25 -37 29 -48 13 -41 23 -17 35 83\nl13 102 17 -102 c22 -125 40 -161 104 -192 43 -22 62 -24 175 -25 140 0 191\n15 243 70 39 41 86 140 99 206 8 41 16 58 30 61 37 10 58 -4 64 -42 11 -69 56\n-169 96 -215 59 -66 106 -81 256 -80 188 2 237 34 266 175 l13 64 7 -45 c4\n-25 12 -59 18 -77 l10 -32 34 64 c18 35 40 93 49 129 9 36 25 85 36 109 28 63\n42 176 31 246 -7 45 -5 73 10 136 40 168 11 295 -97 436 -60 79 -137 145 -187\n162 l-42 14 35 21 c31 20 32 22 12 22 -23 0 -22 1 8 26 42 36 30 44 -15 10\nl-35 -27 20 51 c24 60 7 57 -20 -4 l-19 -41 -1 35 -2 35 -12 -37 -11 -37 -32\n39 c-18 21 -64 59 -102 85 -122 80 -250 111 -401 95z m465 -700 c-51 -52 -49\n-69 3 -25 17 14 36 24 44 23 7 -2 19 -28 26 -58 7 -30 38 -99 69 -153 38 -66\n62 -124 75 -175 31 -133 21 -159 -41 -106 -78 65 -203 80 -404 48 -105 -17\n-134 -31 -124 -58 4 -9 7 -20 7 -24 0 -7 -169 -12 -182 -5 -4 2 -2 13 5 23 9\n16 9 23 -3 35 -23 22 -208 48 -319 43 -83 -3 -103 -7 -146 -32 -82 -47 -106\n-58 -111 -53 -3 3 6 74 20 159 24 141 30 161 81 263 75 150 66 140 106 120 25\n-13 48 -16 96 -12 51 4 72 1 105 -15 122 -59 553 -39 687 32 57 30 59 24 6\n-30z m-634 -529 c20 -6 52 -22 70 -34 33 -23 34 -25 33 -93 0 -59 -5 -78 -34\n-132 -58 -109 -109 -135 -265 -135 -190 0 -234 41 -235 222 l0 84 39 37 c56\n53 121 70 251 66 58 -2 121 -9 141 -15z m691 3 c33 -10 73 -30 95 -49 l38 -33\n0 -103 c0 -86 -3 -110 -20 -139 -32 -55 -81 -73 -194 -73 -168 1 -229 30 -281\n137 -37 74 -51 175 -30 201 54 65 260 96 392 59z"}),i.a.createElement("path",{d:"M2037 2413 c-4 -3 -7 -11 -7 -17 0 -6 5 -5 12 2 6 6 9 14 7 17 -3 3\n-9 2 -12 -2z"}),i.a.createElement("path",{d:"M1074 1849 c-31 -9 -77 -49 -56 -49 7 0 12 -8 12 -17 1 -11 7 -5 15\n14 11 26 21 33 52 38 21 3 48 8 61 11 25 5 29 -8 7 -26 -10 -8 -14 -28 -13\n-54 l1 -41 4 37 c4 36 5 37 22 20 10 -9 21 -25 24 -34 7 -19 27 -25 27 -8 0 5\n7 7 17 3 13 -5 15 -2 9 18 -17 52 -13 63 22 66 19 2 51 -6 74 -18 22 -11 37\n-15 33 -9 -4 7 -31 23 -59 36 -42 20 -66 24 -136 23 -47 0 -99 -5 -116 -10z\nm136 -53 c0 -11 -19 -15 -25 -6 -3 5 1 10 9 10 9 0 16 -2 16 -4z"}),i.a.createElement("path",{d:"M1281 1761 c-10 -7 -11 -9 -1 -13 10 -3 10 -9 1 -26 -9 -17 -21 -22\n-51 -22 -21 0 -42 5 -45 10 -3 6 -11 10 -18 10 -6 0 -2 -9 9 -20 16 -17 28\n-19 66 -14 26 4 47 9 46 13 -1 3 2 19 7 34 9 32 5 39 -14 28z"}),i.a.createElement("path",{d:"M1078 1698 c5 -5 16 -8 23 -6 8 3 3 7 -10 11 -17 4 -21 3 -13 -5z"}),i.a.createElement("path",{d:"M1803 1835 c-28 -14 -54 -33 -58 -42 -5 -16 -4 -16 13 0 22 20 102\n49 102 37 0 -5 -4 -12 -10 -15 -5 -3 -9 -25 -8 -48 l1 -42 4 39 c3 28 7 36 13\n26 7 -12 12 -12 22 -2 6 6 16 12 21 12 5 0 1 -7 -7 -16 -12 -12 -13 -20 -6\n-35 11 -20 30 -26 30 -9 0 5 7 7 15 4 18 -7 19 9 3 35 -14 23 -3 55 17 48 9\n-4 12 -1 9 7 -4 10 6 12 41 10 63 -6 85 -19 86 -52 0 -16 3 -21 6 -12 3 8 10\n18 15 21 14 9 -28 40 -69 50 -21 5 -72 9 -114 9 -61 0 -85 -5 -126 -25z"}),i.a.createElement("path",{d:"M1977 1766 c-13 -10 -15 -15 -5 -19 10 -3 8 -9 -6 -26 -13 -14 -31\n-21 -58 -21 -21 0 -38 5 -38 10 0 6 -5 10 -11 10 -5 0 -8 -4 -5 -9 4 -5 0 -12\n-6 -14 -7 -3 1 -6 17 -7 17 -1 42 -4 56 -6 30 -5 55 18 69 65 5 17 8 31 7 31\n-1 0 -10 -7 -20 -14z"}),i.a.createElement("path",{d:"M2040 1700 c-9 -6 -10 -10 -3 -10 6 0 15 5 18 10 8 12 4 12 -15 0z"}),i.a.createElement("path",{d:"M2422 1760 c0 -14 2 -19 5 -12 2 6 2 18 0 25 -3 6 -5 1 -5 -13z"}),i.a.createElement("path",{d:"M1140 858 c-27 -18 -41 -42 -69 -113 -29 -76 -43 -99 -93 -146 -32\n-31 -58 -66 -58 -76 0 -17 -16 -22 -152 -42 -163 -24 -280 -51 -331 -77 -133\n-68 -222 -196 -243 -352 l-7 -52 1382 0 c1328 0 1381 1 1381 18 0 73 -72 221\n-141 291 -87 86 -192 129 -441 181 l-147 31 -58 60 c-75 78 -109 129 -118 176\n-15 81 -51 123 -105 123 -23 0 -29 -18 -35 -109 -2 -40 -9 -79 -16 -87 -6 -8\n-37 -28 -68 -46 -99 -55 -146 -95 -173 -145 -35 -65 -59 -177 -65 -306 -3 -59\n-9 -110 -13 -112 -4 -2 -10 37 -14 88 -14 200 -53 345 -107 393 -13 12 -65 47\n-115 78 -98 60 -103 68 -104 166 0 58 -10 80 -35 80 -12 0 -37 -10 -55 -22z"})))}}]),n}(i.a.Component)),ke=n(230),Ue=n(107),we=n.n(Ue),Ce=n(140),Ie=n(243),Le=n(233),Re=n(232),De=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return i.a.createElement("svg",{version:1,xmlns:"http://www.w3.org/2000/svg",width:"35.000000pt",height:"35.000000pt",viewBox:"0 0 450.000000 408.000000",preserveAspectRatio:"xMidYMid meet"},i.a.createElement("metadata",null,"Created by potrace 1.16, written by Peter Selinger 2001-2019"),i.a.createElement("g",{transform:"translate(0.000000,408.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},i.a.createElement("path",{d:"M1895 4074 c-16 -2 -73 -9 -125 -15 -131 -15 -332 -67 -475 -123\n-581 -228 -1037 -726 -1209 -1320 -260 -897 105 -1834 905 -2322 228 -139 503\n-236 779 -275 120 -17 417 -17 535 -1 362 51 677 182 971 403 l106 80 41 -38\nc53 -49 117 -93 184 -127 81 -40 77 -30 -4 13 -104 55 -178 114 -228 182 -92\n125 -79 250 34 330 77 55 140 62 211 23 73 -40 165 -163 163 -219 -1 -29 -1\n-29 8 6 6 19 28 59 50 87 21 29 39 55 39 59 0 8 -32 -30 -61 -72 -13 -19 -26\n-35 -29 -35 -3 1 -27 33 -54 73 -98 145 -218 175 -338 84 -53 -39 -98 -123\n-98 -181 0 -27 12 -65 34 -108 18 -36 30 -70 27 -75 -3 -5 -35 -31 -71 -59\n-274 -216 -629 -366 -980 -415 -122 -17 -417 -17 -540 0 -344 47 -704 200\n-980 414 -84 65 -282 263 -347 347 -573 738 -573 1760 0 2500 62 81 272 289\n355 352 276 213 627 361 973 409 134 19 429 17 564 -4 343 -53 667 -191 950\n-405 87 -66 267 -244 339 -337 91 -116 170 -240 237 -373 68 -136 79 -142 16\n-8 -115 243 -312 497 -515 666 -301 252 -641 407 -1020 466 -95 14 -388 27\n-447 18z"}),i.a.createElement("path",{d:"M2395 3602 c-16 -11 -36 -26 -44 -35 -12 -15 -10 -17 24 -17 42 0\n163 -39 238 -76 46 -23 170 -103 235 -150 12 -9 22 -14 22 -11 0 12 -106 135\n-163 190 -112 106 -236 145 -312 99z"}),i.a.createElement("path",{d:"M875 3506 c-83 -38 -176 -143 -246 -279 l-42 -82 89 90 c49 50 117\n112 151 138 62 47 175 107 203 107 12 0 11 3 -2 17 -23 22 -114 28 -153 9z"}),i.a.createElement("path",{d:"M2414 3108 c-101 -68 -196 -222 -234 -378 -27 -114 -27 -291 0 -413\n21 -96 69 -206 120 -274 31 -42 32 -43 60 -28 43 22 148 45 209 45 60 0 169\n-24 215 -47 15 -8 25 -10 22 -4 -4 5 9 38 29 73 109 199 128 453 53 688 -49\n154 -151 295 -250 344 -78 39 -160 37 -224 -6z m224 -54 c98 -49 187 -174 233\n-329 33 -109 38 -332 10 -447 -21 -88 -63 -185 -97 -224 -19 -21 -20 -21 -73\n-4 l-54 17 34 21 c149 92 185 422 66 608 -130 203 -335 146 -402 -113 -19 -74\n-19 -199 1 -276 22 -87 55 -147 108 -195 25 -23 45 -42 43 -43 -6 -1 -134 -36\n-147 -40 -23 -7 -95 112 -128 214 -73 220 -59 459 36 640 90 174 233 240 370\n171z m-15 -308 c15 -1 30 -6 35 -11 4 -4 1 -5 -7 0 -10 6 -12 4 -7 -4 5 -7 15\n-10 23 -7 8 3 12 2 9 -3 -3 -4 6 -19 19 -31 14 -13 25 -31 25 -39 0 -13 2 -13\n9 -2 6 10 11 4 16 -20 4 -19 13 -41 21 -49 8 -9 12 -32 11 -53 -2 -20 -1 -37\n2 -37 12 0 5 -206 -8 -245 -27 -76 -69 -132 -118 -156 -42 -20 -51 -21 -92\n-10 -133 35 -214 233 -187 456 8 69 50 154 83 171 17 8 19 14 11 22 -8 8 -6\n10 8 6 10 -3 28 2 39 10 12 10 31 13 50 10 17 -3 42 -6 58 -8z"}),i.a.createElement("path",{d:"M2559 2615 c-29 -16 -62 -59 -52 -69 4 -3 17 -6 29 -6 26 0 54 -34\n54 -67 0 -33 -42 -57 -86 -50 l-36 6 7 -62 c4 -34 14 -78 22 -97 28 -69 97\n-119 148 -106 21 5 25 12 23 39 -3 30 -1 32 32 32 33 0 35 2 53 60 32 104 9\n222 -59 292 -45 47 -85 55 -135 28z"}),i.a.createElement("path",{d:"M893 3051 c-115 -53 -241 -229 -293 -411 -27 -94 -38 -306 -21 -403\n17 -100 46 -186 85 -249 31 -52 33 -59 18 -69 -15 -9 -14 -10 3 -4 142 50 343\n19 445 -69 23 -20 24 -20 8 0 -17 19 -16 22 28 70 51 54 123 196 148 289 72\n271 12 600 -140 764 -89 97 -186 125 -281 82z m163 -58 c99 -33 192 -163 235\n-328 30 -115 30 -306 0 -430 -27 -112 -86 -235 -144 -299 l-43 -50 -70 29\nc-63 27 -79 29 -191 30 l-121 0 -26 41 c-35 56 -71 156 -86 240 -16 91 -8 317\n15 399 39 142 139 300 219 343 83 46 134 52 212 25z"}),i.a.createElement("path",{d:"M954 2706 c-103 -45 -184 -216 -184 -388 0 -100 15 -170 53 -241 69\n-131 172 -166 284 -98 105 65 177 301 144 475 -21 113 -83 215 -153 252 -34\n18 -103 17 -144 0z m154 -76 c17 -13 32 -30 32 -37 0 -7 4 -13 9 -13 5 0 12\n-11 15 -25 4 -14 10 -24 15 -21 4 3 8 0 9 -7 0 -7 8 -38 17 -70 15 -53 19\n-217 5 -217 -3 0 -6 -17 -7 -38 -3 -85 -89 -209 -160 -233 -107 -35 -219 82\n-239 250 -3 25 -10 61 -16 79 -6 21 -6 37 0 45 5 7 12 33 15 58 9 69 46 158\n81 197 21 23 48 38 81 47 68 18 104 14 143 -15z"}),i.a.createElement("path",{d:"M1000 2517 c-20 -10 -25 -20 -25 -50 0 -30 -7 -44 -39 -73 l-38 -35\n4 -92 c3 -74 9 -101 28 -136 27 -48 83 -81 125 -73 20 3 23 8 19 32 -7 31 19\n49 42 29 20 -16 30 -5 53 57 27 70 28 180 4 248 -32 88 -105 128 -173 93z"}),i.a.createElement("path",{d:"M2423 1636 l28 -12 -32 -44 c-74 -101 -208 -211 -354 -287 -44 -23\n-76 -43 -72 -43 27 -1 182 91 275 163 58 45 62 47 62 25 0 -79 -58 -185 -144\n-266 -149 -139 -444 -224 -670 -193 -113 16 -158 40 -244 128 -63 66 -71 78\n-55 84 15 7 16 8 1 8 -38 2 -179 86 -237 141 -34 32 -61 63 -61 68 0 6 10 12\n23 15 12 2 -3 3 -33 3 -30 -1 -73 3 -95 7 -27 5 -35 5 -25 -2 8 -5 37 -13 64\n-17 44 -6 56 -13 96 -57 25 -28 72 -68 105 -89 87 -57 148 -159 280 -473 102\n-243 150 -329 225 -405 88 -90 139 -113 258 -118 82 -4 101 -1 166 22 88 32\n173 104 223 187 87 147 151 455 193 939 9 105 15 131 36 163 23 35 28 37 77\n38 28 1 63 4 76 8 14 4 -10 7 -55 6 -43 0 -92 3 -109 7 l-30 7 28 -13z m-240\n-932 c35 -40 39 -89 11 -148 -13 -28 -24 -46 -24 -41 -1 6 -7 -5 -15 -22 -8\n-18 -25 -45 -40 -60 -14 -16 -23 -34 -20 -41 3 -7 0 -10 -5 -7 -6 4 -17 -1\n-26 -9 -8 -9 -12 -16 -7 -16 4 0 -3 -8 -17 -17 -17 -12 -25 -13 -28 -5 -2 7\n-9 12 -16 12 -30 0 -58 48 -63 108 -5 59 12 162 27 162 4 0 20 18 36 41 48 70\n144 92 187 43z m-326 -160 c14 -13 33 -118 33 -181 0 -39 -2 -42 -37 -54 -33\n-11 -35 -13 -18 -21 14 -6 11 -7 -14 -3 -18 3 -42 5 -53 5 -10 0 -17 4 -13 9\n3 5 -4 12 -15 16 -11 3 -20 11 -20 16 0 6 -6 17 -14 24 -18 18 -5 94 19 111 9\n7 16 15 16 18 -3 20 2 28 30 54 32 30 60 32 86 6z"})))}}]),n}(i.a.Component),Se=n(60),Ne=n.n(Se),Me=n(244),ze=n(108),Pe=n.n(ze),Fe=i.a.forwardRef((function(e,t){return i.a.createElement(j.a,Object.assign({direction:"up",ref:t},e))})),Be=Object(Q.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",margin:"15px",height:"50vh",width:"100%"},avtar:{height:"22vh",width:"22vh",display:"flex",alignItems:"center",justifyContent:"center"},menuItem:{padding:"0px",marginBottom:"5px"},bottomDialog:{marginTop:"20px"},frndRePaper:Object(v.a)({display:"flex",flexDirection:"column",overflowY:"scroll",alignItems:"center",justifyContent:"flex-start",margin:"15px",height:"30vh",background:"rgb(238,174,202)"},"background","radial-gradient(circle, rgba(238,174,202,1) 0%, rgba(148,187,233,1) 100%)"),mainGrid:{height:"calc(100vh - 54px)",overflowY:"scroll"}}}));var Ae=function(e){var t,n,a,o,r,l,s,c,d,u,p,m,h,f=this,E=i.a.useState(null),j=Object(J.a)(E,2),O=j[0],k=j[1],U=i.a.useState(!1),w=Object(J.a)(U,2),I=w[0],L=w[1],R=i.a.useState(!1),D=Object(J.a)(R,2),S=D[0],N=D[1],M=i.a.useState(!1),z=Object(J.a)(M,2),F=(z[0],z[1]),B=i.a.useState(!1),A=Object(J.a)(B,2),q=A[0],T=A[1],W=Be(),_=i.a.useState({name:"",gender:"",hobbies:""}),V=Object(J.a)(_,2),Q=V[0],X=V[1],Z=function(e){X(Object(Ee.a)(Object(Ee.a)({},Q),{},Object(v.a)({},e.target.name,e.target.value)))},$=function(){k(null)},ee=function(){L(!1)};return i.a.createElement(le,{bottomNavigation:!0,selectedValue:0},i.a.createElement(je.a,{container:!0,className:W.mainGrid},i.a.createElement(xe.a,{elevation:3,className:"".concat(W.root," profile userNo")},i.a.createElement(ke.a,{onClick:function(e){var t;e.preventDefault(),t=e,console.log(t),k(t.currentTarget)},style:{position:"fixed",top:"25px",right:"35px"},"aria-label":"display more actions",edge:"end",color:"inherit"},i.a.createElement(we.a,null)),i.a.createElement(Ce.a,{id:"simple-menu",anchorEl:O,keepMounted:!0,open:Boolean(O),onClose:$},i.a.createElement(Ie.a,{className:"menuItem",onClick:function(e){e.preventDefault(),L(!0)}},"Edit Profile"),i.a.createElement(Ie.a,{className:"menuItem",onClick:$},"Logout")),(null===e||void 0===e||null===(t=e.myData)||void 0===t?void 0:t.photoURL)||(null===e||void 0===e||null===(n=e.myData)||void 0===n?void 0:n.imageURL)?i.a.createElement(C.a,{className:W.avtar,src:(null===e||void 0===e||null===(a=e.myData)||void 0===a?void 0:a.imageURL)?null===e||void 0===e||null===(o=e.myData)||void 0===o?void 0:o.imageURL:null===e||void 0===e||null===(r=e.myData)||void 0===r?void 0:r.photoURL,alt:"Cindy Baker"}):i.a.createElement("div",{style:{height:"123px",width:"123px",objectFit:"cover",marginBottom:"30px"}},i.a.createElement(Oe,null)),i.a.createElement(je.a,{container:!0,justify:"center",alignItems:"center"},i.a.createElement(je.a,{item:!0,xs:12},""!==e.myData.displayName?i.a.createElement("span",null,e.myData.displayName):""!==e.myData.email?i.a.createElement("span",null,e.myData.email):i.a.createElement("span",{className:"hide-phone-number"},e.myData.phoneNumber)),i.a.createElement(je.a,{item:!0,xs:12},"UserNO :- ".concat(parseInt(100*Math.random()))),i.a.createElement(je.a,{xs:12,container:!0,justify:"space-around",alignItem:"center",className:"profileButon"},i.a.createElement(b.a,{style:{margin:"20px"},variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),f.props.history.goBack()}},"Follow"),i.a.createElement(b.a,{variant:"outlined",color:"primary",onClick:function(e){e.preventDefault(),f.props.history.goBack()}},"Block")))),i.a.createElement(je.a,{container:!0,direction:"row"},i.a.createElement(je.a,{item:!0,xs:6},i.a.createElement(xe.a,{elevation:3,className:W.frndRePaper},"Friend Requests",(null===e||void 0===e||null===(l=e.myData)||void 0===l||null===(s=l.friendRequests)||void 0===s?void 0:s.length)>0?null===e||void 0===e||null===(c=e.myData)||void 0===c||null===(d=c.friendRequests)||void 0===d?void 0:d.map((function(t){return i.a.createElement(je.a,{container:!0,justify:"flex-start",alignItems:"center"},i.a.createElement(H.a,{className:"profile"},i.a.createElement(Y.a,null,i.a.createElement(K.a,null,i.a.createElement(C.a,{alt:"Remy Sharp",src:t.photoURL&&t.photoURL})),i.a.createElement(G.a,{className:"list",primary:t.displayName?t.displayName:"Unknown",secondary:"Friend Request"}),i.a.createElement(Me.a,{style:{position:"relative",top:"15%",left:"5%"}},i.a.createElement(ke.a,{onClick:function(n){n.preventDefault(),e.acceptRequest(t),n.stopPropagation()},className:"list",edge:"end","aria-label":"delete"},i.a.createElement(Pe.a,null))),i.a.createElement(Me.a,{style:{position:"absolute",bottom:"15%"}},i.a.createElement(ke.a,{onClick:function(n){n.preventDefault(),e.deleteRequest(t),n.stopPropagation()},className:"list",edge:"end","aria-label":"delete"},i.a.createElement(Ne.a,null)))),i.a.createElement(se.a,null)))})):i.a.createElement("div",{style:{display:"flex",height:"100%",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center"}},i.a.createElement(ce,{style:{height:"30px",width:"30px",objectFit:"cover"}}),i.a.createElement("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"No Friend Request")))),i.a.createElement(je.a,{item:!0,xs:6},i.a.createElement(xe.a,{elevation:3,className:W.frndRePaper},"Block List",(null===e||void 0===e||null===(u=e.myData)||void 0===u||null===(p=u.blockList)||void 0===p?void 0:p.length)>0?null===e||void 0===e||null===(m=e.myData)||void 0===m||null===(h=m.blockList)||void 0===h?void 0:h.map((function(e){return i.a.createElement(je.a,{container:!0,justify:"flex-start",alignItems:"center"},i.a.createElement(H.a,{className:"profile",onClick:function(t){t.preventDefault(),f.props.history.push("/chatScreen/".concat(e.userId))}},i.a.createElement(Y.a,null,i.a.createElement(K.a,null,i.a.createElement(C.a,{alt:"Remy Sharp",src:e.photoURL&&e.photoURL})),i.a.createElement(G.a,{className:"",primary:e.name?e.name:"Unknown",secondary:""!==(null===e||void 0===e?void 0:e.message)?null===e||void 0===e?void 0:e.message:"Sent You A Friend Request"}),i.a.createElement(Me.a,null,i.a.createElement(ke.a,{edge:"end","aria-label":"delete"},i.a.createElement(Ne.a,null)))),i.a.createElement(se.a,null)))})):i.a.createElement("div",{style:{display:"flex",height:"100%",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center"}},i.a.createElement(De,{style:{height:"30px",width:"30px",objectFit:"cover"}}),i.a.createElement("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Empty Here")))))),i.a.createElement(x.a,{open:I,TransitionComponent:Fe,keepMounted:!0,onClose:function(e){e.preventDefault(),ee()}},i.a.createElement(Re.a,{id:"alert-dialog-slide-title"},"Edit Profile"),i.a.createElement(Le.a,null,i.a.createElement(je.a,{container:!0,justify:"center",alignItems:"center",direction:"column"},i.a.createElement(je.a,{item:!0,xs:12},i.a.createElement("img",{src:q,alt:"",style:{height:"80px",width:"80px",objectFit:"cover"},onClick:function(e){e.preventDefault(),N(!0)}})),i.a.createElement(je.a,{item:!0,xs:12},i.a.createElement(g.a,{onChange:Z,id:"outlined-basic",name:"name",label:"Enter Name",variant:"outlined"})),i.a.createElement(je.a,{item:!0,xs:12},i.a.createElement(g.a,{onChange:Z,id:"outlined-basic",name:"gender",label:"Gender",variant:"outlined"})),i.a.createElement(je.a,{item:!0,xs:12},i.a.createElement(g.a,{onChange:Z,id:"outlined-basic",name:"hobbies",label:"Your Hobbies",variant:"outlined"})),i.a.createElement(je.a,{className:W.bottomDialog,container:!0,justify:"space-around",alignItems:"center"},i.a.createElement(b.a,{onClose:function(e){e.preventDefault(),ee()},color:"primary"},"cancel"),i.a.createElement(b.a,{onClick:function(t){t.preventDefault(),function(){var t={name:Q.name,gender:Q.gender,photoURL:q,hobbies:Q.hobbies};console.log(t,e.myData.userId),L(!1),e.updateProfile(e.myData.userId,t)}()},color:"primary"},"update"))))),i.a.createElement(y.a,{open:S,onSave:function(e){console.log(e);var t=e[0],n=(e[0].type,P.child((new Date).toString()));n.put(t).then((function(){n.getDownloadURL().then((function(e){var t=e;T(e),console.log(t)}))})),F(e),N(!1)},acceptedFiles:["image/jpeg","image/png","image/bmp"],showPreviews:!0,maxFileSize:5e6,onClose:function(){N(!1)}}))},qe=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).initialiseProps=function(e){console.log(e),B.onSnapshot((function(t){console.log(t.size);var n=[];t.forEach((function(e){if(e.exists){console.log(e.id);var t=e.data();t.id=e.id,n.push(t)}}));var i=n.find((function(t){return t.userId===e.user.uid}));console.log("myData",i),a.setState({myData:i}),a.setState({allUsers:n,isLoadingUser:!1})}))},a.updateProfile=function(e,t){M.collection("users").doc(e).update({displayName:t.name,imageURL:t.photoURL,gender:t.gender,hobbies:t.hobbies})},a.acceptRequest=function(e){var t,n,i,o,r,l,s,c=new Set;void 0!==(null===(t=Object(ye.a)(a))||void 0===t||null===(n=t.state)||void 0===n?void 0:n.currentUserFriendList)?(c.add(null===(l=Object(ye.a)(a))||void 0===l||null===(s=l.state)||void 0===s?void 0:s.currentUserFriendList),c.add([e]),console.log("inside if",Object(be.a)(c))):c.add(e);B.doc(null===(i=Object(ye.a)(a))||void 0===i||null===(o=i.props)||void 0===o||null===(r=o.user)||void 0===r?void 0:r.uid).set({friendList:Array.from(c).flat(1/0)},{merge:!0}).then((function(){return a.deleteRequest(e)}))},a.deleteRequest=function(e){var t,n,i,o,r,l,s;console.log(null===(t=Object(ye.a)(a))||void 0===t||null===(n=t.state)||void 0===n?void 0:n.currentUserFriendReq);var c,d=[],u=Object(ge.a)(null===(l=Object(ye.a)(a))||void 0===l||null===(s=l.state)||void 0===s?void 0:s.currentUserFriendReq);try{for(u.s();!(c=u.n()).done;){var p=c.value;p.userId===e.userId||d.push(p)}}catch(m){u.e(m)}finally{u.f()}B.doc(null===(i=Object(ye.a)(a))||void 0===i||null===(o=i.props)||void 0===o||null===(r=o.user)||void 0===r?void 0:r.uid).set({friendRequests:d},{merge:!0})},a.state={allUsers:[],myData:!1,isLoadingUser:!0,currentUserFriendList:[]},a}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.initialiseProps(e)}},{key:"componentWillMount",value:function(){var e,t,n,a,i,o,r=null===this||void 0===this||null===(e=this.props)||void 0===e||null===(t=e.user)||void 0===t||null===(n=t.db)||void 0===n?void 0:n.friendRequests,l=null===this||void 0===this||null===(a=this.props)||void 0===a||null===(i=a.user)||void 0===i||null===(o=i.db)||void 0===o?void 0:o.friendRequests;this.setState({currentUserFriendList:r,currentUserFriendReq:l}),this.initialiseProps(this.props)}},{key:"render",value:function(){var e=this,t=this.state.isLoadingUser;return i.a.createElement("div",null,t?"Loading...":i.a.createElement(f.b,{exact:!0,path:"/userList/:id",render:function(t){return i.a.createElement(ue,Object.assign({},t,{myData:e.state.myData&&e.state.myData,allUsers:e.state.allUsers&&e.state.allUsers,isLoadingUser:e.state.isLoadingUser,updateProfile:e.updateProfile}))}}),t?"Loading...":i.a.createElement(f.b,{exact:!0,path:"/profile/:id",render:function(t){return i.a.createElement(Ae,Object.assign({},t,{myData:e.state.myData&&e.state.myData,allUsers:e.state.allUsers&&e.state.allUsers,isLoadingUser:e.state.isLoadingUser,updateProfile:e.updateProfile,acceptRequest:e.acceptRequest,deleteRequest:e.deleteRequest}))}}))}}]),n}(i.a.Component),Te=Object(f.f)(qe),We=(n(187),i.a.forwardRef((function(e,t){return i.a.createElement(j.a,Object.assign({direction:"up",ref:t},e))}))),_e=Object(Q.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",margin:"15px",height:"50vh"},avtar:{height:"22vh",width:"22vh",display:"flex",alignItems:"center",justifyContent:"center"},menuItem:{padding:"0px",marginBottom:"5px"},bottomDialog:{marginTop:"20px"},frndRePaper:Object(v.a)({display:"flex",flexDirection:"column",overflowY:"scroll",alignItems:"center",padding:"10px",justifyContent:"flex-start",margin:"15px",height:"30vh",background:"rgb(238,174,202)"},"background","radial-gradient(circle, rgba(238,174,202,1) 0%, rgba(148,187,233,1) 100%)"),mainGrid:{height:"100vh",overflowY:"scroll"}}}));var Ve=Object(f.f)((function(e){var t,n,a,o,r,l,s,c,d,u,p,m,h,f,E,j,O,k,U,w,I,L,R,D,S,N,M,z,F,B=i.a.useState(null),A=Object(J.a)(B,2),q=(A[0],A[1],i.a.useState(!1)),T=Object(J.a)(q,2),W=T[0],_=T[1],V=i.a.useState(!1),H=Object(J.a)(V,2),Y=H[0],G=H[1],K=i.a.useState(!1),Q=Object(J.a)(K,2),X=(Q[0],Q[1]),Z=i.a.useState(!1),$=Object(J.a)(Z,2),ee=$[0],te=$[1],ne=_e(),ae=i.a.useState(),ie=Object(J.a)(ae,2),oe=(ie[0],ie[1],i.a.useState({name:"",gender:"",hobbies:""})),re=Object(J.a)(oe,2),le=re[0],se=re[1],ce=function(e){se(Object(Ee.a)(Object(Ee.a)({},le),{},Object(v.a)({},e.target.name,e.target.value)))},de=function(){_(!1)};return e.isLoadingUser?"Loading...":(console.log(null===e||void 0===e||null===(t=e.user)||void 0===t||null===(n=t.db)||void 0===n?void 0:n.friendList),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{position:"fixed",top:"15px",left:"15px"}},i.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(t){t.preventDefault(),e.history.goBack()}},"Back")),i.a.createElement(je.a,{container:!0,className:"".concat(ne.mainGrid," ")},i.a.createElement(xe.a,{elevation:3,className:"".concat(ne.root," profile userNo")},(null===e||void 0===e||null===(a=e.otherUser)||void 0===a?void 0:a.photoURL)||(null===e||void 0===e||null===(o=e.otherUser)||void 0===o?void 0:o.imageURL)?i.a.createElement(C.a,{className:ne.avtar,src:(null===e||void 0===e||null===(r=e.otherUser)||void 0===r?void 0:r.imageURL)?null===e||void 0===e||null===(l=e.otherUser)||void 0===l?void 0:l.imageURL:null===e||void 0===e||null===(s=e.otherUser)||void 0===s?void 0:s.photoURL,alt:"Cindy Baker"}):i.a.createElement("div",{style:{height:"123px",width:"123px",objectFit:"cover",marginBottom:"30px"}},i.a.createElement(Oe,null)),i.a.createElement(je.a,{container:!0,justify:"center",alignItems:"center"},i.a.createElement(je.a,{item:!0,xs:12},""!==e.otherUser.displayName?i.a.createElement("span",null,e.otherUser.displayName):""!==e.otherUser.email?i.a.createElement("span",{className:"otherhide-phone-number"},e.otherUser.email):i.a.createElement("span",{className:"otherhide-phone-number"},e.otherUser.phoneNumber)),i.a.createElement(je.a,{item:!0,xs:12},"UserNO :- ".concat(parseInt(100*Math.random()))),i.a.createElement(je.a,{xs:12,container:!0,justify:"space-around",alignItem:"center",className:"profileButon"},i.a.createElement(b.a,{style:{margin:"20px"},variant:"contained",color:"primary",disabled:!!((null===e||void 0===e||null===(c=e.user)||void 0===c||null===(d=c.db)||void 0===d?void 0:d.friendList)&&(null===e||void 0===e||null===(u=e.user)||void 0===u||null===(p=u.db)||void 0===p||null===(m=p.friendList)||void 0===m?void 0:m.length)>0)&&(null===e||void 0===e||null===(h=e.user)||void 0===h||null===(f=h.db)||void 0===f||null===(E=f.friendList)||void 0===E?void 0:E.find((function(t){var n;return t.userId===(null===e||void 0===e||null===(n=e.otherUser)||void 0===n?void 0:n.userId)}))),onClick:function(t){t.preventDefault(),e.sendFriendRequest(null===e||void 0===e?void 0:e.otherUser)}},(null===e||void 0===e||null===(j=e.user)||void 0===j||null===(O=j.db)||void 0===O?void 0:O.friendList)&&(null===e||void 0===e||null===(k=e.user)||void 0===k||null===(U=k.db)||void 0===U||null===(w=U.friendList)||void 0===w?void 0:w.length)>0&&void 0!==(null===e||void 0===e||null===(I=e.user)||void 0===I||null===(L=I.db)||void 0===L||null===(R=L.friendList)||void 0===R?void 0:R.find((function(t){var n;return t.userId===(null===e||void 0===e||null===(n=e.otherUser)||void 0===n?void 0:n.userId)})))?"Already A Friend":"Follow"),i.a.createElement(b.a,{variant:"outlined",color:"primary",onClick:function(t){t.preventDefault(),e.blockUser(null===e||void 0===e?void 0:e.otherUser)}},(null===e||void 0===e||null===(D=e.user)||void 0===D||null===(S=D.db)||void 0===S||null===(N=S.blockList)||void 0===N?void 0:N.length)>0&&void 0!==(null===e||void 0===e||null===(M=e.user)||void 0===M||null===(z=M.db)||void 0===z||null===(F=z.blockList)||void 0===F?void 0:F.find((function(t){var n;return t.userId===(null===e||void 0===e||null===(n=e.otherUser)||void 0===n?void 0:n.userId)})))?"Unblock":"Block")))),i.a.createElement(je.a,{container:!0,direction:"row"},i.a.createElement(je.a,{item:!0,xs:12},i.a.createElement(xe.a,{elevation:3,className:ne.frndRePaper},i.a.createElement(je.a,{item:!0,xs:12},"Hey! Dear I Am",""!==e.otherUser.displayName?i.a.createElement("span",null,"  ",e.otherUser.displayName):""!==e.otherUser.email?i.a.createElement("span",{className:"otherhide-phone-number"},"  ",e.otherUser.email):i.a.createElement("span",{className:"otherhide-phone-number"},"  ",e.otherUser.phoneNumber)),i.a.createElement(je.a,{item:!0,xs:12},"My Hobbies Are ",e.otherUser.hobbies?e.otherUser.hobbies:"..."))))),i.a.createElement(x.a,{open:W,TransitionComponent:We,keepMounted:!0,onClose:function(e){e.preventDefault(),de()}},i.a.createElement(Re.a,{id:"alert-dialog-slide-title"},"Edit Profile"),i.a.createElement(Le.a,null,i.a.createElement(je.a,{container:!0,justify:"center",alignItems:"center",direction:"column"},i.a.createElement(je.a,{item:!0,xs:12},i.a.createElement("img",{src:ee,alt:"",style:{height:"80px",width:"80px",objectFit:"cover"},onClick:function(e){e.preventDefault(),G(!0)}})),i.a.createElement(je.a,{item:!0,xs:12},i.a.createElement(g.a,{onChange:ce,id:"outlined-basic",name:"name",label:"Enter Name",variant:"outlined"})),i.a.createElement(je.a,{item:!0,xs:12},i.a.createElement(g.a,{onChange:ce,id:"outlined-basic",name:"gender",label:"Gender",variant:"outlined"})),i.a.createElement(je.a,{item:!0,xs:12},i.a.createElement(g.a,{onChange:ce,id:"outlined-basic",name:"hobbies",label:"Your Hobbies",variant:"outlined"})),i.a.createElement(je.a,{className:ne.bottomDialog,container:!0,justify:"space-around",alignItems:"center"},i.a.createElement(b.a,{onClose:function(e){e.preventDefault(),de()},color:"primary"},"cancel"),i.a.createElement(b.a,{onClick:function(t){t.preventDefault(),function(){var t={name:le.name,gender:le.gender,photoURL:ee,hobbies:le.hobbies};console.log(t,e.otherUser.userId),_(!1),e.updateProfile(e.otherUser.userId,t)}()},color:"primary"},"update"))))),i.a.createElement(y.a,{open:Y,onSave:function(e){console.log(e);var t=e[0],n=(e[0].type,P.child((new Date).toString()));n.put(t).then((function(){n.getDownloadURL().then((function(e){var t=e;te(e),console.log(t)}))})),X(e),G(!1)},acceptedFiles:["image/jpeg","image/png","image/bmp"],showPreviews:!0,maxFileSize:5e6,onClose:function(){G(!1)}})))})),He=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).initializeUser=function(e){a.setState({user:e.user,isLoadingMydata:!1})},a.sendFriendRequest=function(e){var t,n,i,o,r,l,s,c,d;console.log(null===(t=Object(ye.a)(a))||void 0===t||null===(n=t.props)||void 0===n?void 0:n.user);var u,p,m={photoURL:e.imageURL?e.imageURL:e.photoURL||"",displayName:e.displayName?e.displayName:e.email?e.email:e.phoneNumber||"",userId:e.userId,message:"sent you friend request"},h=new Set;(console.log(null===(i=Object(ye.a)(a))||void 0===i||null===(o=i.state)||void 0===o?void 0:o.currentUserFriendReq),void 0!==(null===(r=Object(ye.a)(a))||void 0===r||null===(l=r.state)||void 0===l?void 0:l.currentUserFriendReq))?(h.add(null===(u=Object(ye.a)(a))||void 0===u||null===(p=u.state)||void 0===p?void 0:p.currentUserFriendReq),h.add([m]),console.log("inside if",Object(be.a)(h))):h.add(m);console.log("after first user value inserted",Array.from(h).flat(1/0)),B.doc(null===(s=Object(ye.a)(a))||void 0===s||null===(c=s.props)||void 0===c||null===(d=c.user)||void 0===d?void 0:d.uid).set({friendRequests:Array.from(h).flat(1/0)},{merge:!0})},a.blockUser=function(e){var t,n,i,o,r,l={photoURl:e.imageURL?e.imageURL:e.photoURL||"",displayName:e.displayName?e.displayName:e.email?e.email:e.phoneNumber||"",userId:e.userId,message:"blocked"},s=null===(t=Object(ye.a)(a))||void 0===t||null===(n=t.props)||void 0===n?void 0:n.user.db.blockList;if(s.find((function(t){return t.userId===e.userId}))){console.log(s);var c=s.splice(s.find((function(t){return t.userId===e.userId})),1);console.log(c)}else console.log(s),s.push(l),console.log(s);B.doc(null===(i=Object(ye.a)(a))||void 0===i||null===(o=i.props)||void 0===o||null===(r=o.user)||void 0===r?void 0:r.uid).update({blockList:s})},a.state={isLoadingUser:!0,isLoadingMydata:!0,currentUserFriendReq:[]},a}return Object(u.a)(n,[{key:"componentWillMount",value:function(){var e,t,n,a,i,o,r=this;this.initializeUser(this.props);var l=null===this||void 0===this||null===(e=this.props)||void 0===e||null===(t=e.user)||void 0===t||null===(n=t.db)||void 0===n?void 0:n.friendRequests;B.doc(null===this||void 0===this||null===(a=this.props)||void 0===a||null===(i=a.match)||void 0===i||null===(o=i.params)||void 0===o?void 0:o.id).get().then((function(e){if(console.log("onsnapShot",e.data()),e.exists){var t=e.data();t.id=e.id,r.setState({otherUser:t,currentUserFriendReq:l,isLoadingUser:!1})}}))}},{key:"componentWillReceiveProps",value:function(e){this.initializeUser(e)}},{key:"render",value:function(){return i.a.createElement(Ve,{otherUser:this.state.otherUser&&this.state.otherUser,sendFriendRequest:this.sendFriendRequest,blockUser:this.blockUser,user:this.state.user,isLoadingUser:this.state.isLoadingUser})}}]),n}(i.a.Component),Ye=Object(f.f)(He),Ge=(n(188),i.a.Component,function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{style:{position:"absolute",top:0,backgroundColor:"#d3d3d357",height:"-webkit-fill-available",width:"-webkit-fill-available",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999}},i.a.createElement("style",{dangerouslySetInnerHTML:{__html:'.lds-spinner {\n  color: official;\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n}\n.lds-spinner div {\n  transform-origin: 40px 40px;\n  animation: lds-spinner 1.2s linear infinite;\n}\n.lds-spinner div:after {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 3px;\n  left: 37px;\n  width: 6px;\n  height: 18px;\n  border-radius: 20%;\n  background: #fff;\n}\n.lds-spinner div:nth-child(1) {\n  transform: rotate(0deg);\n  animation-delay: -1.1s;\n}\n.lds-spinner div:nth-child(2) {\n  transform: rotate(30deg);\n  animation-delay: -1s;\n}\n.lds-spinner div:nth-child(3) {\n  transform: rotate(60deg);\n  animation-delay: -0.9s;\n}\n.lds-spinner div:nth-child(4) {\n  transform: rotate(90deg);\n  animation-delay: -0.8s;\n}\n.lds-spinner div:nth-child(5) {\n  transform: rotate(120deg);\n  animation-delay: -0.7s;\n}\n.lds-spinner div:nth-child(6) {\n  transform: rotate(150deg);\n  animation-delay: -0.6s;\n}\n.lds-spinner div:nth-child(7) {\n  transform: rotate(180deg);\n  animation-delay: -0.5s;\n}\n.lds-spinner div:nth-child(8) {\n  transform: rotate(210deg);\n  animation-delay: -0.4s;\n}\n.lds-spinner div:nth-child(9) {\n  transform: rotate(240deg);\n  animation-delay: -0.3s;\n}\n.lds-spinner div:nth-child(10) {\n  transform: rotate(270deg);\n  animation-delay: -0.2s;\n}\n.lds-spinner div:nth-child(11) {\n  transform: rotate(300deg);\n  animation-delay: -0.1s;\n}\n.lds-spinner div:nth-child(12) {\n  transform: rotate(330deg);\n  animation-delay: 0s;\n}\n@keyframes lds-spinner {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n'}}),i.a.createElement("div",{className:"lds-spinner"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)))}}]),n}(i.a.Component)),Ke=(n(189),n(139)),Je=n(249),Qe=Object(Q.a)((function(e){return{root:{flexGrow:1},paper:{textAlign:"center",height:"45vh",maxWidth:"100%",padding:"10px",maxHeight:"45vh",color:e.palette.text.secondary},paperSignIn:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"space-around",flexDirection:"column",height:"45vh",fontSize:"14px",fontWeight:"bolder",padding:"10px",maxWidth:"100%",maxHeight:"45vh",color:"white"}}})),Xe=Object(f.f)((function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(J.a)(t,2),o=n[0],r=n[1],l=i.a.useState(!1),s=Object(J.a)(l,2),c=s[0],d=s[1],u=function(e){r(Object(Ee.a)(Object(Ee.a)({},o),{},Object(v.a)({},e.target.name,e.target.value)))},p=Qe();return i.a.createElement(i.a.Fragment,null,i.a.createElement(je.a,{container:!0,xs:12,className:"mainBody"},i.a.createElement(je.a,{className:"signInDiv",container:!0,xs:12,lg:6},i.a.createElement(je.a,{container:!0,alignItems:"center",justify:"center",direction:"column"},i.a.createElement(xe.a,{className:p.paper},i.a.createElement("h1",null,"Sign in"),i.a.createElement(je.a,null,i.a.createElement(je.a,{item:!0,xs:12},i.a.createElement("img",{onClick:function(t){t.preventDefault(),e.googleLogin()},src:"gplus.png",style:{objectFit:"cover",height:"30px",width:"30px",borderRadius:"50% "}}))),i.a.createElement("span",null,"OR Use Phone Number Login"),i.a.createElement("input",{type:"tel",name:"phoneNumber",onChange:u,placeholder:"Phone Number"}),i.a.createElement("input",{type:"number",name:"otp",onChange:u,placeholder:"OTP"}),i.a.createElement("a",{href:"#"},"Forgot your password?"),i.a.createElement(je.a,{item:!0,xs:12},i.a.createElement("button",{id:"sign-in-button",onClick:function(t){t.preventDefault(),e.showOTP?e.verifyOTP(o.otp):e.phoneLogin(o.phoneNumber)}},e.showOTP?"Sign In":"Send OTP"))))),i.a.createElement(je.a,{className:"signInDiv",container:!0,xs:12,lg:6},i.a.createElement(je.a,{container:!0,alignItems:"center",justify:"center",direction:"column"},i.a.createElement(xe.a,{className:"".concat(p.paperSignIn," overlay")},i.a.createElement(je.a,{item:!0},i.a.createElement("h1",null,"Hello, Friend!")),i.a.createElement(je.a,{container:!0,alignItems:"center",justify:"center"},i.a.createElement("span",null,"Enter your personal details and INVITE friends by"),i.a.createElement(Ke.a,{data:{text:"Like humans, pchat_app make friends for life",url:"https://pchatapp-15cab.firebaseapp.com/",title:"Pchat_app"},onClick:function(){return console.log("shared successfully!")}},i.a.createElement("span",null," SHARING ",i.a.createElement("u",null,"(PCHAT_APP)")," \ud83d\udd17  and start Chating with them"))),i.a.createElement(je.a,null,i.a.createElement("button",{class:"ghost",id:"signUp",onClick:function(t){t.preventDefault(),e.googleLogin()}},"Google Login"))))),i.a.createElement(Je.a,{open:c,onClose:function(){d(!1)},message:"Please try logging in with Google"}),i.a.createElement("footer",null,i.a.createElement(je.a,{item:!0,xs:2,style:{color:"grey",position:"fixed",bottom:"10px",left:"15px"}},"Version No: 1.0.2"),i.a.createElement("p",null,"Created ",i.a.createElement("i",{class:"fa fa-heart"})," by Mayank Aditya - Join me on linkedin",i.a.createElement("a",{target:"_blank",href:"https://www.linkedin.com/in/mayank-aditya-936296131"}," Click Here"),"."))))})),Ze=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).loginAnnonymous=function(){z.signInAnonymously().catch((function(e){var t=e.code,n=e.message;console.log("errorCode",t),console.log("errorMessage",n)}))},a.viaGoogleLogin=function(){z.signInWithRedirect(F)},a.phoneLogin=function(e){window.recaptchaVerifier=new S.a.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:function(e){return console.log("test",e),e}});var t=window.recaptchaVerifier;return S.a.auth().signInWithPhoneNumber("+91"+e,t).then((function(e){a.setState({verificationId:e.verificationId,showOTP:!0}),a.verificationId=e.verificationId,console.log(a.verificationId)})).catch((function(e){return a.verificationId=null,console.log("web phone auth",e),e}))},a.verifyOTP=function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===a.verificationId){e.next=7;break}return console.log("inside otp 1",a.verificationId),e.next=4,S.a.auth.PhoneAuthProvider.credential(a.verificationId,t);case 4:return n=e.sent,console.log("inside otp 2",n),e.abrupt("return",S.a.auth().signInAndRetrieveDataWithCredential(n).then((function(e){console.log(e)})).catch((function(e){return"auth/code-expired"===e&&(a.verificationId=null),console.log(4,e),e})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={showOTP:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement(Xe,{login:this.loginAnnonymous,showOTP:this.state.showOTP,googleLogin:this.viaGoogleLogin,phoneLogin:this.phoneLogin,verifyOTP:this.verifyOTP,errorMessage:A})}}]),n}(i.a.Component),$e=Object(f.f)(Ze),et=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={user:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;z.onAuthStateChanged(function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("inside on auth state changed"),n?(localStorage.userId=n.uid,e.setState({authUser:n}),B.doc(n.uid).onSnapshot(function(){var t=Object(c.a)(s.a.mark((function t(a){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n,!a.exists){t.next=7;break}return i.db=a.data(),t.next=5,e.setState({user:i},(function(){localStorage.nearestLocation&&q(n)}));case 5:t.next=9;break;case 7:e.setState({user:n}),T(n);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):e.setState({user:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this;return console.log("this.state.user",this.state.user),i.a.createElement(h.a,null,i.a.createElement("div",null,i.a.createElement(f.a,{from:"/",to:this.state.user.uid?"/profile/:id":localStorage.userId?"/loading":"/auth"}),i.a.createElement(f.b,{path:"/singelOtherUserProfile/:id",render:function(t){return i.a.createElement(Ye,Object.assign({},t,e.state,{user:e.state.user&&e.state.user}))}}),i.a.createElement(f.b,{path:"/loading",render:function(t){return i.a.createElement(Ge,Object.assign({},t,e.state))}}),i.a.createElement(f.b,{path:"/profile/:id",render:function(t){return i.a.createElement(Te,Object.assign({},t,e.state,{userId:e.state.user.uid?e.state.user.uid:localStorage.userId}))}}),i.a.createElement(f.b,{path:"/userList/:id",render:function(t){return i.a.createElement(Te,Object.assign({},t,e.state))}}),i.a.createElement(f.b,{path:"/nearBy/:id",render:function(t){return i.a.createElement(ve,Object.assign({},t,e.state))}}),i.a.createElement(f.b,{path:"/chatScreen/:id",render:function(t){return i.a.createElement(V,Object.assign({},t,e.state))}}),i.a.createElement(f.b,{path:"/auth",render:function(t){return i.a.createElement($e,Object.assign({},t,e.props))}})))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));new Promise((function(e,t){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){localStorage.lat=t.coords.latitude,localStorage.lng=t.coords.longitude,e({lat:t.coords.latitude,lng:t.coords.longitude})}),(function(t){return e({lat:21,lng:71})}),{enableHighAccuracy:!0})})),r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[156,1,2]]]);
//# sourceMappingURL=main.259681aa.chunk.js.map